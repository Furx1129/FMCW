### é‡‡é›†ä»£ç å‚æ•°é…ç½®
```python
frames = 100  # é‡‡é›†100å¸§æ•°æ®

config = FmcwSimpleSequenceConfig(
    frame_repetition_time_s=0.05,        # å¸§é—´éš” 50ms â†’ å¸§çŽ‡ 20Hz
    chirp_repetition_time_s=0.00296,     # chirpé—´éš” ~3ms
    num_chirps=16,                        # æ¯å¸§16ä¸ªchirp
    tdm_mimo=False,                       # ä¸å¯ç”¨MIMO
    chirp=FmcwSequenceChirp(
        start_frequency_Hz=58_000_000_000,  # èµ·å§‹é¢‘çŽ‡ 58GHz
        end_frequency_Hz=63_000_000_000,    # ç»“æŸé¢‘çŽ‡ 63GHz â†’ å¸¦å®½5GHz
        sample_rate_Hz=2_000_000,           # ADCé‡‡æ ·çŽ‡ 2MHz
        num_samples=128,                    # æ¯ä¸ªchirpé‡‡128ä¸ªç‚¹
        rx_mask=7,                          # 0b111 = å¯ç”¨RX1,RX2,RX3ä¸‰ä¸ªæŽ¥æ”¶å¤©çº¿
        tx_mask=1,                          # 0b001 = åªå¯ç”¨TX1å‘å°„å¤©çº¿
        tx_power_level=31,                  # å‘å°„åŠŸçŽ‡ç­‰çº§(0-31)
        lp_cutoff_Hz=500_000,              # ä½Žé€šæ»¤æ³¢å™¨æˆªæ­¢é¢‘çŽ‡ 500kHz
        hp_cutoff_Hz=80_000,               # é«˜é€šæ»¤æ³¢å™¨æˆªæ­¢é¢‘çŽ‡ 80kHz
        if_gain_dB=23,                      # ä¸­é¢‘å¢žç›Š 23dB
    )
)
```
### `.npy`æ•°æ®æ ¼å¼å’Œç»“æž„

ðŸ“Š æ•°æ®æ ¼å¼ä¿¡æ¯
| å±žæ€§ | å€¼ |
|------|-----|
| æ•°æ®ç±»åž‹ | numpy.ndarray |
| å½¢çŠ¶ (shape) | (100, 1, 3, 16, 128) |
| ç»´åº¦æ•° | 5 ç»´ |
| å…ƒç´ ç±»åž‹ | float32 |
| æ€»å…ƒç´ æ•° | 614,400 |

ðŸ” ç»´åº¦å«ä¹‰è§£æž
| ç»´åº¦ç´¢å¼• | å¤§å° | å«ä¹‰ | é…ç½®æ¥æº |
|----------|------|------|----------|
| ç¬¬0ç»´    | 100  | å¸§æ•° (Frames) | frames = 100 |
| ç¬¬1ç»´    | 1    | å‘å°„å¤©çº¿æ•° (TX) | tx_mask=1 (åªå¯ç”¨TX1) |
| ç¬¬2ç»´    | 3    | æŽ¥æ”¶å¤©çº¿æ•° (RX) | rx_mask=7 (0b111 = RX1,RX2,RX3) |
| ç¬¬3ç»´    | 16   | æ¯å¸§chirpæ•° | num_chirps=16 |
| ç¬¬4ç»´    | 128  | æ¯chirpé‡‡æ ·ç‚¹æ•° | num_samples=128 |
### å¤„ç†æ€è·¯å’Œå¤§è‡´åŽŸç†

#### ç¬¬ä¸€æ­¥ï¼šæ•°æ®æ¸…æ´—ä¸Žç›®æ ‡å®šä½ (Target Detection & Localization)

åœ¨æå–å‘¼å¸å¿ƒè·³ä¹‹å‰ï¼Œå¿…é¡»å…ˆçŸ¥é“â€œäººåœ¨å“ªâ€ã€‚å¦‚æžœä¸çŸ¥é“äººçš„ä½ç½®ï¼Œæå–å‡ºæ¥çš„å°±æ˜¯èƒŒæ™¯å™ªå£°ã€‚

##### 1. åŽ»é™¤é™æ€æ‚æ³¢ (Clutter Removal / MTI)

* **åŽŸç†ï¼š** é›·è¾¾æŽ¥æ”¶åˆ°çš„ä¿¡å·é‡ŒåŒ…å«äº†å¢™å£ã€æ¡Œæ¤…ç­‰é™æ­¢ç‰©ä½“çš„åå°„ã€‚è¿™äº›ä¿¡å·é€šå¸¸å¾ˆå¼ºï¼Œä¼šæŽ©ç›–å¾®å¼±çš„èƒ¸è…”æŒ¯åŠ¨ã€‚å› ä¸ºé™æ­¢ç‰©ä½“çš„åå°„ä¿¡å·åœ¨æ—¶é—´è½´ä¸Šå‡ ä¹Žæ˜¯ä¸å˜çš„ï¼Œè€Œäººæ˜¯ä¼šåŠ¨çš„ï¼ˆå“ªæ€•åªæ˜¯å‘¼å¸ï¼‰ã€‚
* **æ–‡çŒ®æ–¹æ³•ï¼š** ä½¿ç”¨åŠ¨ç›®æ ‡æ˜¾ç¤ºï¼ˆMTIï¼‰æˆ–å¤æ•°å¹³å‡ç›¸å‡ï¼ˆComplex Average Subtractionï¼‰ã€‚


* **å…¬å¼/ä»£ç é€»è¾‘ï¼š**



ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è®¡ç®—ä¸€æ®µæ—¶é—´å†…æ‰€æœ‰å¸§çš„**å¹³å‡å€¼**ï¼Œç„¶åŽæ¯ä¸€å¸§éƒ½å‡åŽ»è¿™ä¸ªå¹³å‡å€¼ã€‚å‰©ä¸‹çš„å°±æ˜¯â€œå˜åŒ–â€çš„éƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯äººï¼‰ã€‚

##### 2. è·ç¦»-è§’åº¦è°±ç”Ÿæˆ (Range-Angle Map)

* **åŽŸç†ï¼š**
* **æµ‹è· (Range FFT):** å¯¹æ¯ä¸€ä¸ª Chirpï¼ˆå¿«æ—¶é—´ç»´ï¼‰åš FFTã€‚é¢‘çŽ‡å³°å€¼å¯¹åº”çš„å°±æ˜¯ç›®æ ‡çš„è·ç¦»ã€‚
* **æµ‹è§’ (Angle FFT/Beamforming):** æ–‡çŒ®ä¸­ä½¿ç”¨äº† CBF (å¸¸è§„æ³¢æŸå½¢æˆ) æˆ– MVDR ç®—æ³• ã€‚åˆ©ç”¨ä¸åŒå¤©çº¿æŽ¥æ”¶åˆ°çš„ä¿¡å·ç›¸ä½å·®æ¥è®¡ç®—è§’åº¦ã€‚




* **å®šä½ç›®æ ‡ï¼š** åœ¨ç”Ÿæˆçš„çƒ­åŠ›å›¾ï¼ˆè·ç¦»-è§’åº¦è°±ï¼‰ä¸­ï¼Œæ‰¾åˆ°èƒ½é‡æœ€å¼ºçš„é‚£ä¸ªç‚¹ (R_{target}, \theta_{target})ï¼Œè¿™å°±é”å®šäº†èƒ¸è…”çš„ä½ç½®ã€‚

---

#### ç¬¬äºŒæ­¥ï¼šç›¸ä½æå– (Phase Extraction) â€”â€” æœ€æ ¸å¿ƒçš„ç‰©ç†åŽŸç†

è¿™æ˜¯æ•´ä¸ªç®—æ³•çš„â€œçµé­‚â€ã€‚æ¯«ç±³æ³¢é›·è¾¾ä¹‹æ‰€ä»¥èƒ½æµ‹åˆ°å¾®ç±³çº§çš„èƒ¸è…”èµ·ä¼ï¼Œé çš„ä¸æ˜¯æµ‹é‡è·ç¦»çš„ç»å¯¹å€¼å˜åŒ–ï¼Œè€Œæ˜¯æµ‹é‡**ç›¸ä½çš„å˜åŒ–**ã€‚

* **ç‰©ç†å…¬å¼ï¼š**
é›·è¾¾å‘å°„æ³¢é•¿ä¸º \lambdaã€‚å¦‚æžœç›®æ ‡ç§»åŠ¨äº† \Delta R çš„è·ç¦»ï¼Œå¾€è¿”è·¯ç¨‹å°±æ”¹å˜äº† 2\Delta Rã€‚
è¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªç›¸ä½å˜åŒ– \Delta \phiï¼š


* **æŽ¨å¯¼é€»è¾‘ï¼š**
åè¿‡æ¥ï¼Œå¦‚æžœæˆ‘ä»¬æµ‹å‡ºäº†ç›¸ä½å˜åŒ– \phi(t)ï¼Œå°±å¯ä»¥åæŽ¨èƒ¸è…”çš„ä½ç§» x(t)ï¼š


* **æ–‡çŒ®ä¸­çš„æ“ä½œï¼š**
æ–‡çŒ®æåˆ°â€œæå–èƒ¸å£è¿åŠ¨ä¿¡æ¯â€ ã€‚å…·ä½“æ“ä½œæ˜¯ï¼šé”å®šç›®æ ‡çš„è·ç¦»ç´¢å¼• (Range Bin) å’Œè§’åº¦ç´¢å¼•ï¼Œæå–è¯¥ä½ç½®éšæ—¶é—´å˜åŒ–çš„ä¸€ä¸²å¤æ•°ä¿¡å· S(t)ã€‚
ç„¶åŽè®¡ç®—å…¶ç›¸ä½ï¼š


*(æ³¨æ„ï¼šåœ¨ç¼–ç¨‹ä¸­é€šå¸¸éœ€è¦ä½¿ç”¨ `unwrap` å‡½æ•°æ¥å¤„ç†ç›¸ä½ç¼ ç»•é—®é¢˜ï¼Œé˜²æ­¢ç›¸ä½è¶…è¿‡ 2\pi æ—¶å‘ç”Ÿè·³å˜)*

---

#### ç¬¬ä¸‰æ­¥ï¼šä¿¡å·åˆ†ç¦»ä¸Žæ»¤æ³¢ (Filtering)

çŽ°åœ¨çš„ä¿¡å· x(t) æ˜¯ä¸€ä¸ªæ··åˆä¿¡å·ï¼ŒåŒ…å«äº†å‘¼å¸ï¼ˆå¤§å¹…åº¦ã€ä½Žé¢‘ï¼‰ã€å¿ƒè·³ï¼ˆå°å¹…åº¦ã€è¾ƒé«˜é¢‘ï¼‰ä»¥åŠèº«ä½“æ™ƒåŠ¨å™ªå£°ã€‚

* 
**æ–‡çŒ®æ–¹æ³•ï¼š** å·®åˆ† (Differencing) å’Œæ»¤æ³¢ (Filtering) ã€‚


* **1. å·®åˆ† (Differencing):**



è¿™ç›¸å½“äºŽä¸€ä¸ªé«˜é€šæ»¤æ³¢å™¨ï¼Œå¯ä»¥åŽ»é™¤ç›¸ä½çš„çº¿æ€§æ¼‚ç§»ï¼ˆDriftï¼‰ï¼Œå› ä¸ºç›¸ä½å¾€å¾€ä¼šéšæ—¶é—´ç¼“æ…¢æ¼‚ç§»ï¼Œå¦‚æžœä¸åŽ»é™¤ï¼Œæ³¢å½¢å°±æ˜¯æ–œç€èµ°çš„ã€‚
* **2. å¸¦é€šæ»¤æ³¢ (Bandpass Filtering):**
è¿™æ˜¯åŒºåˆ†å‘¼å¸å’Œå¿ƒè·³çš„å…³é”®ã€‚ä½ éœ€è¦è®¾è®¡ä¸¤ä¸ªæ»¤æ³¢å™¨ï¼ˆPython ä¸­ä½¿ç”¨ `scipy.signal.butter`ï¼‰ï¼š
* **å‘¼å¸å¸¦ï¼š** 0.1 Hz ~ 0.5 Hz (å¯¹åº”æ¯åˆ†é’Ÿ 6~30 æ¬¡å‘¼å¸)ã€‚
* **å¿ƒè·³å¸¦ï¼š** 0.8 Hz ~ 2.0 Hz (å¯¹åº”æ¯åˆ†é’Ÿ 48~120 æ¬¡å¿ƒè·³)ã€‚



---

#### ç¬¬å››æ­¥ï¼šé¢‘çŽ‡è®¡ç®—ä¸Žè®¡æ•° (Rate Calculation)

æœ€åŽä¸€æ­¥æ˜¯æ ¹æ®åˆ†ç¦»å‡ºçš„æ³¢å½¢ç®—å‡ºæ¯åˆ†é’Ÿå‘¼å¸å¤šå°‘æ¬¡ã€å¿ƒè·³å¤šå°‘æ¬¡ã€‚

* **æ–‡çŒ®æ–¹æ³•ï¼š**
* **æ—¶åŸŸæ³• (Peak Detection):** å¦‚å›¾ 9 å’Œå›¾ 10 æ‰€ç¤ºï¼Œç›´æŽ¥åœ¨æ³¢å½¢ä¸Šæ•°å³°å€¼ ã€‚

* **é¢‘åŸŸæ³• (FFT Spectrum):** å¯¹æ»¤æ³¢åŽçš„æ³¢å½¢å†åšä¸€æ¬¡ FFTï¼Œçœ‹é¢‘è°±ä¸Šèƒ½é‡æœ€é«˜çš„é‚£ä¸ªé¢‘çŽ‡ç‚¹ f_{max}ã€‚

---

### æ€»ç»“ä¸Ž Python å¤åˆ»æŒ‡å—

ç»“åˆä½ çš„ **Infineon BGT60TR13C**ï¼Œå¤„ç†æµç¨‹å¯ä»¥ç®€åŒ–å¦‚ä¸‹ï¼š

1. **Read:** è¯»å– `.npy` æ•°æ® (å‡è®¾ç»´åº¦ `[Frames, Samples, Antennas]`)ã€‚
2. **Pre-process:** æ²¿ Frames ç»´åº¦åšå‡æ³•åŽ»å‡å€¼ (MTI)ã€‚
3. **Range FFT:** æ²¿ Samples ç»´åº¦åš FFTï¼Œæ‰¾åˆ°èƒ½é‡æœ€å¤§çš„ç´¢å¼• `idx_range` (å‡è®¾äººæ­£å¯¹ç€é›·è¾¾ï¼Œä¸ç”¨å¤ªçº ç»“è§’åº¦ï¼Œç›´æŽ¥é€‰ä¸­é—´å¤©çº¿å³å¯)ã€‚
4. **Extract:** å–å‡º `raw_data[:, idx_range, 0]` (ç¬¬0æ ¹å¤©çº¿åœ¨ç›®æ ‡è·ç¦»å¤„çš„å¤æ•°æ•°æ®)ã€‚
5. **Phase:** è®¡ç®— `np.unwrap(np.angle(complex_data))`ã€‚
6. **Filter:**
* è®¾è®¡ä¸€ä¸ª 0.1-0.5Hz çš„å¸¦é€šæ»¤æ³¢å™¨ -> å¾—åˆ°å‘¼å¸æ³¢å½¢ã€‚
* è®¾è®¡ä¸€ä¸ª 0.8-2.0Hz çš„å¸¦é€šæ»¤æ³¢å™¨ -> å¾—åˆ°å¿ƒè·³æ³¢å½¢ã€‚


7. **Count:** ä½¿ç”¨ `scipy.signal.find_peaks` æ•°æ³¢å³°ã€‚


